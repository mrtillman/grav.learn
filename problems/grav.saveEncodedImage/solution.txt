Here is the reference solution, if you're curious:

  const { Grav } = require('grav.client');
  const fs = require('fs');

  module.exports = function () {
    const image = "/path/to/file.png";
    const bitmap = fs.readFileSync(image);
    const imageData = new Buffer(bitmap).toString('base64');

    const grav = Grav.login("user@example.com", "password");
    grav.autoParse = true;
    return grav.saveEncodedImage(imageData, 'jpeg', 0);
  }
  